Race:
  type: object
  required:
    - id
    - universeId
    - name
    - imageUrls
    - createdAt
    - updatedAt
  properties:
    id:
      type: string
      format: uuid
    universeId:
      type: string
      format: uuid
    name:
      type: string
    description:
      type: string
      nullable: true
    lifespan:
      type: string
      nullable: true
    languages:
      type: array
      items:
        type: string
      nullable: true
    avatarUrl:
      type: string
      format: uri
      nullable: true
    imageUrls:
      type: array
      items:
        type: string
        format: uri
    createdAt:
      type: string
      format: date-time
    updatedAt:
      type: string
      format: date-time
    deletedAt:
      type: string
      format: date-time
      nullable: true

EthnicGroup:
  type: object
  required:
    - id
    - raceId
    - name
    - imageUrls
    - createdAt
    - updatedAt
  properties:
    id:
      type: string
      format: uuid
    raceId:
      type: string
      format: uuid
    name:
      type: string
    description:
      type: string
      nullable: true
    avatarUrl:
      type: string
      format: uri
      nullable: true
    imageUrls:
      type: array
      items:
        type: string
        format: uri
    createdAt:
      type: string
      format: date-time
    updatedAt:
      type: string
      format: date-time

RaceWithRelations:
  allOf:
    - $ref: '#/Race'
    - type: object
      properties:
        universe:
          type: object
          description: The universe this race belongs to
        ethnicGroups:
          type: array
          items:
            $ref: '#/EthnicGroup'

RaceCreate:
  type: object
  required:
    - universeId
    - name
  properties:
    universeId:
      type: string
      format: uuid
    name:
      type: string
      minLength: 1
    description:
      type: string
      nullable: true
    lifespan:
      type: string
      nullable: true
    languages:
      type: array
      items:
        type: string
      nullable: true
    avatarUrl:
      type: string
      format: uri
      nullable: true
    imageUrls:
      type: array
      items:
        type: string
        format: uri

RaceUpdate:
  type: object
  properties:
    name:
      type: string
      minLength: 1
    description:
      type: string
      nullable: true
    lifespan:
      type: string
      nullable: true
    languages:
      type: array
      items:
        type: string
      nullable: true
    avatarUrl:
      type: string
      format: uri
      nullable: true
    imageUrls:
      type: array
      items:
        type: string
        format: uri

RaceResponse:
  type: object
  properties:
    success:
      type: boolean
      example: true
    data:
      $ref: '#/RaceWithRelations'
    message:
      type: string

RaceListResponse:
  allOf:
    - $ref: '../common/shared.yaml#/components/schemas/PaginatedResponse'
    - type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/Race'
